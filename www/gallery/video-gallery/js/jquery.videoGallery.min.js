(function(d){function l(a,c){function e(){b._playlistTransitionOn||(b.transitionFinishIntervalID&&clearInterval(b.transitionFinishIntervalID),b.addressTimeoutID&&clearTimeout(b.addressTimeoutID),b.onChange(b._externalChangeEvent))}function g(){b.addressTimeoutID&&clearTimeout(b.addressTimeoutID);b.onChange(b._externalChangeEvent)}this._componentInited=!1;var b=this;this.baseURL=window.location.href;this.settings=d.extend({},d.fn.videoGallery.defaults,c);this.isMobile=jQuery.browser.mobile;this.isMobile|| (this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent));this.preventResize=!1;window.onorientationchange=function(){"undefined"!=typeof window.onorientationchange&&b.iPad&&(b._mediaType&&"vimeo"==b._mediaType)&&b._forceResize()};var f=navigator.userAgent;this.isIOS=!1;this.iPad=-1<f.indexOf("iPad");this.isAndroid=-1<f.indexOf("Android");if(-1<f.indexOf("iPhone")||-1<f.indexOf("iPod")||-1<f.indexOf("iPad")){this.isIOS=!0;var i=document.getElementsByTagName("meta"),h; for(h=0;h<i.length;h++)"viewport"==i[h].name&&(i[h].content="width=device-width, minimum-scale=1.0, maximum-scale=1.0");document.addEventListener("gesturestart",j,!1);var j=function(){for(h=0;h<i.length;h++)"viewport"==i[h].name&&(i[h].content="width=device-width, minimum-scale=0.25, maximum-scale=1.6")}}this.retina=1<window.devicePixelRatio?!0:!1;this.isIE=!1;d.browser.msie&&(this.isIE=!0);this._body=d("body");this._window=d(window);this._doc=d(document);this._windowResizeInterval=250;this._windowResizeIntervalID; this._mediaPath;this._mediaType;this._vimeoPlayer;this._youtubeInited=this._youtubeChromeless=this._vimeoInited=!1;this._thumbInnerContainerSize;this._thumbScrollIntervalID;this._thumbArr=[];this._thumbHolderArr=[];this._videoProcessCounter=0;this._videoProcessData=[];this._videoProcessDataUrl=[];this._playlistQueryCounter=0;this._playlistQueryUrl=[];this._playlistLength;this._playlistTransitionOn=this._playlistOpened=!1;this._descriptionDataArr=[];this._thumbsScrollValue=50;this.outputDeeplinkData= this.settings.outputDeeplinkData;this.deeplinkData=[];this.reCheckAddressTimeoutID;this.reCheckAddressTimeout=250;this._componentFixedSize=this.settings.componentFixedSize;this.initialAutoplay=this.vim_autoPlay=this.yt_autoPlay=this.autoPlay=this.settings.autoPlay;this.isMobile&&(this.vim_autoPlay=this.yt_autoPlay=this.autoPlay=!1);this._autoAdvanceToNextVideo=this.settings.autoAdvanceToNextVideo;this.randomPlay=this.settings.randomPlay;this.loopingOn=this.settings.loopingOn;this.defaultVolume=this.settings.defaultVolume; 0>this.defaultVolume?this.defaultVolume=0:1<this.defaultVolume&&(this.defaultVolume=1);this._closePlaylistOnVideoSelect=this.settings.closePlaylistOnVideoSelect;this._autoOpenPlaylist=this.settings.autoOpenPlaylist;this.componentWrapper=d(a);this.mediaPreloader=this.componentWrapper.find(".mediaPreloader").css("display","block");this.componentPlaylist=this.componentWrapper.find(".componentPlaylist");this.mediaWrapper=this.componentWrapper.find(".mediaWrapper");this.youtubeHolder=this.componentWrapper.find(".youtubeHolder"); this.vimeoHolder=this.componentWrapper.find(".vimeoHolder");this.thumbHolder=null;0<this.componentWrapper.find(".thumbHolder").length&&(this.thumbHolder=this.componentWrapper.find(".thumbHolder"));!this.isMobile&&this.thumbHolder&&this.thumbHolder.bind("mousewheel",function(a,c){if(!b._componentInited||b._playlistTransitionOn)return!1;var e=0<c?1:-1,d;if("horizontal"==b._thumbOrientation){if(b._thumbInnerContainerSize<b._getComponentSize("w")-b._thumbBackwardSize-b._thumbForwardSize)return;d=parseInt(b.thumbInnerContainer.css("left"), 10);d+=b._thumbsScrollValue*e;0<d?d=0:d<b._getComponentSize("w")-b._thumbInnerContainerSize-b._thumbForwardSize-b._thumbBackwardSize&&(d=b._getComponentSize("w")-b._thumbInnerContainerSize-b._thumbForwardSize-b._thumbBackwardSize);b.thumbInnerContainer.css("left",d+"px")}else{if(b._thumbInnerContainerSize<b._getComponentSize("h")-b._thumbBackwardSize-b._thumbForwardSize)return;d=parseInt(b.thumbInnerContainer.css("top"),10);d+=b._thumbsScrollValue*e;0<d?d=0:d<b._getComponentSize("h")-b._thumbInnerContainerSize- b._thumbForwardSize-b._thumbBackwardSize&&(d=b._getComponentSize("h")-b._thumbInnerContainerSize-b._thumbForwardSize-b._thumbBackwardSize);b.thumbInnerContainer.css("top",d+"px")}return!1});this._upEvent=this._moveEvent=this._downEvent="";this.hasTouch;"ontouchstart"in window?(this.hasTouch=!0,this._downEvent="touchstart.ap",this._upEvent="touchend.ap"):(this.hasTouch=!1,this._downEvent="mousedown.ap",this._upEvent="mouseup.ap");this.thumbContainer=this.componentWrapper.find(".thumbContainer");this.thumbBackward= this.componentWrapper.find(".thumbBackward").css({cursor:"pointer",display:"none"}).bind(this._downEvent,function(){if(!b._componentInited)return!1;b._thumbScrollIntervalID&&clearInterval(b._thumbScrollIntervalID);b._thumbScrollIntervalID=setInterval(function(){b._scrollThumbsBack()},100);return!1}).bind(this._upEvent,function(){b._thumbScrollIntervalID&&clearInterval(b._thumbScrollIntervalID);return!1});this.thumbForward=this.componentWrapper.find(".thumbForward").css({cursor:"pointer",display:"none"}).bind(this._downEvent, function(){if(!b._componentInited)return!1;b._thumbScrollIntervalID&&clearInterval(b._thumbScrollIntervalID);b._thumbScrollIntervalID=setInterval(function(){b._scrollThumbsForward()},100);return!1}).bind(this._upEvent,function(){b._thumbScrollIntervalID&&clearInterval(b._thumbScrollIntervalID);return!1});this.thumbInnerContainer=this.componentWrapper.find(".thumbInnerContainer");this.playlistControls=this.componentWrapper.find(".playlistControls");this.playlistHitArea;this.thumbHolderSize;this._thumbBackwardSize; this._thumbForwardSize;this.prev_v="data/icons/prev_v.png";this.prev="data/icons/prev.png";this.prev_v_on="data/icons/prev_v_on.png";this.prev_on="data/icons/prev_on.png";this.next_v="data/icons/next_v.png";this.next="data/icons/next.png";this.next_v_on="data/icons/next_v_on.png";this.next_on="data/icons/next_on.png";this._switch="data/icons/switch.png";this._switch_on="data/icons/switch_on.png";var f=[this.prev_v,this.prev,this.prev_v_on,this.prev_on,this.next_v,this.next,this.next_v_on,this.next_on, this._switch,this._switch_on],j=0,m=f.length;for(j;j<m;j++)d(new Image).load(function(){}).error(function(){}).attr("src",f[j]);this.playlist_prev=this.componentWrapper.find(".playlist_prev").css("cursor","pointer").bind("click",function(){if(!b._componentInited||b._playlistTransitionOn)return!1;b._enableActiveItem();b._playlistManager.advanceHandler(-1);return!1});this.playlist_toggle=this.componentWrapper.find(".playlist_toggle").css("cursor","pointer").bind("click",function(){if(!b._componentInited|| b._playlistTransitionOn||!b.thumbHolder)return!1;b._togglePlaylist();return!1});this.playlist_next=this.componentWrapper.find(".playlist_next").css("cursor","pointer").bind("click",function(){if(!b._componentInited||b._playlistTransitionOn)return!1;b._enableActiveItem();b._playlistManager.advanceHandler(1);return!1});this.playlist_switch=this.componentWrapper.find(".playlist_switch").css("cursor","pointer").bind("click",function(){if(!b._componentInited||b._playlistTransitionOn||!b.thumbHolder)return!1; b._switchLayout();return!1});this.isMobile||(this.playlist_prev.bind("mouseover",function(){if(!b._componentInited)return!1;var a="horizontal"==b._thumbOrientation?b.prev_on:b.prev_v_on;d(this).css("background-image",'url("'+a+'")');return!1}).bind("mouseout",function(){if(!b._componentInited)return!1;var a="horizontal"==b._thumbOrientation?b.prev:b.prev_v;d(this).css("background-image",'url("'+a+'")');return!1}),this.playlist_toggle.bind("mouseover",function(){if(!b._componentInited)return!1;var a= b._playlistOpened?"horizontal"==b._thumbOrientation?b.next_v_on:b.next_on:"horizontal"==b._thumbOrientation?b.prev_v_on:b.prev_on;d(this).css("background-image",'url("'+a+'")');return!1}).bind("mouseout",function(){if(!b._componentInited)return!1;var a=b._playlistOpened?"horizontal"==b._thumbOrientation?b.next_v:b.next:"horizontal"==b._thumbOrientation?b.prev_v:b.prev;d(this).css("background-image",'url("'+a+'")');return!1}),this.playlist_next.bind("mouseover",function(){if(!b._componentInited)return!1; var a="horizontal"==b._thumbOrientation?b.next_on:b.next_v_on;d(this).css("background-image",'url("'+a+'")');return!1}).bind("mouseout",function(){if(!b._componentInited)return!1;var a="horizontal"==b._thumbOrientation?b.next:b.next_v;d(this).css("background-image",'url("'+a+'")');return!1}),this.playlist_switch.bind("mouseover",function(){if(!b._componentInited)return!1;var a=b._switch_on;d(this).css("background-image",'url("'+a+'")');return!1}).bind("mouseout",function(){if(!b._componentInited)return!1; var a=b._switch;d(this).css("background-image",'url("'+a+'")');return!1}),this.thumbForward.bind("mouseover",function(){if(!b._componentInited)return!1;var a="horizontal"==b._thumbOrientation?b.next_on:b.next_v_on;d(this).css("background-image",'url("'+a+'")');return!1}).bind("mouseout",function(){if(!b._componentInited)return!1;var a="horizontal"==b._thumbOrientation?b.next:b.next_v;d(this).css("background-image",'url("'+a+'")');return!1}),this.thumbBackward.bind("mouseover",function(){if(!b._componentInited)return!1; var a="horizontal"==b._thumbOrientation?b.prev_on:b.prev_v_on;d(this).css("background-image",'url("'+a+'")');return!1}).bind("mouseout",function(){if(!b._componentInited)return!1;var a="horizontal"==b._thumbOrientation?b.prev:b.prev_v;d(this).css("background-image",'url("'+a+'")');return!1}));this._window.bind("resize",function(){if(!b._componentInited)return!1;b._windowResizeIntervalID&&clearInterval(b._windowResizeIntervalID);b._windowResizeIntervalID=setTimeout(function(){this._componentFixedSize? b._centerComponent():b._doneResizing()},b._windowResizeInterval);return!1});this.mobLayout=!1;this._lastMobLayout;this._thumbOrientation;this._lastThumbOrientation;this.flipGallerySides=this.settings.flipGallerySides;this.defaultGallerySide=this.settings.defaultGallerySide;"bottom"==this.defaultGallerySide?this._thumbOrientation="horizontal":"right"==this.defaultGallerySide?this._thumbOrientation="vertical":"autoselect"==this.defaultGallerySide&&(f=this._getComponentSize("h"),j=this._getComponentSize("w"), this._thumbOrientation=500>f||500>j?f<=j?"vertical":"horizontal":"horizontal");this._lastThumbOrientation=this.defaultGallerySide=this._thumbOrientation;this._playlistManager=d.playlistManager({randomPlay:this.randomPlay,loopingOn:this.loopingOn});d(this._playlistManager).bind("ap_PlaylistManager.COUNTER_READY",function(){b.useDeeplink?b._addressSet?(b._addressSet=!1,b._disableActiveItem(),b._findMedia()):(d.address.value(b.findAddress2(b._playlistManager.getCounter())),d.address.history()||d.address.history(!0)): (b._disableActiveItem(),b._findMedia())});d(this._playlistManager).bind("ap_PlaylistManager.PLAYLIST_END",function(){b._disableActiveItem()});if(this.useDeeplink=this.settings.useDeeplink){this.categoryArr=[];var k;this.componentPlaylist.children("ul[data-address]").each(function(){var a={};k=d(this);a.categoryName=k.attr("data-address");a.id=k.attr("id");b.categoryArr.push(a)});this.categoryLength=this.categoryArr.length;this._activePlaylist;this.currentProcessDeeplink;this.secondLevelExist=!1;this.secondLevel; this.firstLevel;this.deepLink;this._addressInited=this._addressSet=!1;this.addressTimeout=500;this.addressTimeoutID;this._externalChangeEvent;this.startUrl=this.settings.startUrl;this.activeCategory;this.currentCategory;this.activeItem;this.transitionFinishInterval=100;this.transitionFinishIntervalID;d.address.internalChange(function(a){a.stopPropagation();this.reCheckAddressTimeoutID&&clearTimeout(this.reCheckAddressTimeoutID);b.onChange(a)});d.address.externalChange(function(a){a.stopPropagation(); this.reCheckAddressTimeoutID&&clearTimeout(this.reCheckAddressTimeoutID);b._externalChangeEvent=a;if(b._playlistTransitionOn)b.addressTimeoutID&&clearTimeout(b.addressTimeoutID),b.transitionFinishIntervalID&&clearInterval(b.transitionFinishIntervalID),b.transitionFinishIntervalID=setInterval(e,b.transitionFinishInterval);else if(b._addressInited)b.addressTimeoutID&&clearTimeout(b.addressTimeoutID),b.addressTimeoutID=setTimeout(g,b.addressTimeout);else if("/"==a.value)b._addressSet=!0,d.address.history(!1), b.isEmpty(b.startUrl)||(d.address.value(b.startUrl),d.address.history()||d.address.history(!0));else if(b.isEmpty(a.value))b._addressSet=!0,d.address.history(!1),b.isEmpty(b.startUrl)||(d.address.value(b.startUrl),d.address.history()||d.address.history(!0));else b.onChange(a)})}else this._activePlaylist=this.settings.activePlaylist,this._setPlaylist()}l.prototype={getDescription:function(a){if(this._componentInited&&!this._playlistTransitionOn){if(a)a>this._playlistLength-1?a=this._playlistLength- 1:0>a&&(a=0);else{if(-1==this._playlistManager.getCounter()){alert("No active Item for description, counter = -1");return}a=this._playlistManager.getCounter()}return this._descriptionDataArr[a]?this._descriptionDataArr[a]:null}},playMedia:function(){this._componentInited&&(!this._playlistTransitionOn&&this._mediaType)&&("vimeo"==this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.play():"youtube"==this._mediaType&&this._youtubePlayer&&this._youtubePlayer.play())},pauseMedia:function(){this._componentInited&& (!this._playlistTransitionOn&&this._mediaType)&&("vimeo"==this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.pause():"youtube"==this._mediaType&&this._youtubePlayer&&this._youtubePlayer.pause())},nextMedia:function(){this._componentInited&&!this._playlistTransitionOn&&(this._enableActiveItem(),this._playlistManager.advanceHandler(1,!0))},previousMedia:function(){this._componentInited&&!this._playlistTransitionOn&&(this._enableActiveItem(),this._playlistManager.advanceHandler(-1,!0))},destroyMedia:function(){this._componentInited&& this._mediaType&&(this._mediaType&&this._cleanMedia(),this._enableActiveItem(),this._playlistManager.reSetCounter())},togglePlaylist:function(){if(!this._componentInited||this._playlistTransitionOn||!this.thumbHolder)return!1;this._togglePlaylist()},switchLayout:function(){this._componentInited&&(!this._playlistTransitionOn&&this.thumbHolder)&&this._switchLayout()},setVolume:function(a){this._componentInited&&(!this._playlistTransitionOn&&this._mediaType)&&(0>a?a=0:1<a&&(a=1),this._setVolume(a))}, loadMedia:function(){this._componentInited&&!this._playlistTransitionOn&&(0>num?num=0:num>this._playlistLength-1&&(num=this._playlistLength-1),this._enableActiveItem(),this._playlistManager.processPlaylistRequest(num))},loadMedia:function(a){if(this._componentInited&&!this._playlistTransitionOn)if(this.useDeeplink)if("string"===typeof a)d.address.value(a);else return alert("Invalid value loadMedia Deeplink!"),!1;else if("number"===typeof a)this._enableActiveItem(),this._playlistManager.processPlaylistRequest(num); else if("string"===typeof a)this._activePlaylist=a,this._cleanPlaylist(),this._setPlaylist();else return alert("Invalid value loadMedia no Deeplink!"),!1},filterAllowedChars:function(a){var c=a.length,e="",d=0,b,f;for(d;d<c;d++)if(b=a.charAt(d).toLowerCase(),"\\"==b&&(b="/"),f=this.getCharCode(b),f>=this.getCharCode("a")&&f<=this.getCharCode("z")||f>=this.getCharCode("0")&&f<=this.getCharCode("9")||0<="_-".indexOf(b))e+=b;return e},getCharCode:function(a){return a.charCodeAt(0)},initAddress:function(a){a.stopPropagation()}, onChange:function(a){a.stopPropagation();this.slideshowTimeoutID&&clearTimeout(this.slideshowTimeoutID);this._addressInited||(this._addressInited=!0);this.deepLink=a.value;"/"==this.deepLink.charAt(0)&&(this.deepLink=this.deepLink.substring(1));"/"==this.deepLink.charAt(this.deepLink.length-1)&&(this.deepLink=this.deepLink.substring(0,this.deepLink.length-1));a=this.findFirstLevel(this.deepLink);if(!this.findCategoryByName(a))return alert("404 page not found, check your deeplinks first level!"),d.address.history(!1), !1;this._addressSet=!1;void 0==this.currentCategory||this.currentCategory!=this.activeCategory?(void 0!=this.currentCategory&&this._cleanPlaylist(),this._setPlaylist()):this.secondLevel?this.findCounterByName(this.secondLevel)?this._playlistManager.getCounter()!=this.activeItem?(this._addressSet=!0,-1!=this._playlistManager.getCounter()&&this._enableActiveItem(),this._playlistManager.setCounter(this.activeItem,!1)):(this._disableActiveItem(),this._findMedia()):(alert("404 page not found, check your deeplinks second level!"), d.address.history(!1)):this.destroyMedia()},findAddress:function(a){var a=a.split("/"),c=!1;2!=a.length&&(c=!0);var e=a[0],d=!1,b=!1,f=0,i=this.categoryArr.length;for(f;f<i;f++)if(this.categoryArr[f].categoryName==e){this.activeCategory=f;d=!0;break}if(!d)return!1;if(c){media_name=a[1];f=0;a=this.categoryArr[activeCategory].mediaName;i=a.length;for(f;f<i;f++)if(a[f]==media_name){this.activeItem=f;b=!0;break}}return!d||!b?!1:!0},findCounterByName:function(a){var c=!1,e=0,d=this.categoryArr[this.activeCategory].mediaName, b=d.length;for(e;e<b;e++)if(d[e]==a){this.activeItem=e;c=!0;break}return c?!0:!1},findCategoryByName:function(a){var c=!1,e=0;for(e;e<this.categoryLength;e++)if(this.categoryArr[e].categoryName==a){this.activeCategory=e;this._activePlaylist=this.categoryArr[e].id;c=!0;break}return c?!0:!1},findAddress2:function(a){return this.categoryArr[this.activeCategory].categoryName+"/"+this.categoryArr[this.activeCategory].mediaName[a]},findFirstLevel:function(a){var c;0<a.indexOf("/")?(this.secondLevelExist= !0,this.firstLevel=c=a.substr(0,a.indexOf("/")),this.secondLevel=a.substr(a.indexOf("/")+1)):(this.firstLevel=a,this.secondLevelExist=!1,this.secondLevel=null,c=a);return this.filterAllowedChars(c)},isEmpty:function(a){return 0==a.replace(/^\s+|\s+$/g,"").length},_processJson:function(){/youtube/.test(this._videoProcessDataUrl[this._videoProcessCounter].type)?this._processYoutube():this._processVimeo()},_getPlaylist:function(){this.currentCategory=this.activeCategory;var a=this;this._videoProcessCounter= 0;this._videoProcessData=[];this._videoProcessDataUrl=[];var c,e,g=d(this.componentPlaylist.find("ul[id="+this._activePlaylist+"]"));this._playlistLength=g.children("li").size();g.children("li").each(function(){e=d(this);c={};c.type=e.attr("data-type");c.path=e.attr("data-path");a.useDeeplink&&(c.deeplink=e.attr("data-address"));"youtube_playlist"==c.type&&c.path.substr(0,47);a._videoProcessDataUrl.push(c)});this._processJson()},_processYoutube:function(){var a=this,c=this._videoProcessDataUrl[this._videoProcessCounter].type, e=this._videoProcessDataUrl[this._videoProcessCounter].path;a.useDeeplink&&(this.currentProcessDeeplink=this._videoProcessDataUrl[this._videoProcessCounter].deeplink);"youtube_single"==c?this._processYoutubeSingle(e):"youtube_playlist"!=c&&"youtube_user_favourites"!=c&&"youtube_user_uploads"!=c&&"youtube_video_query"!=c&&"youtube_playlist_query"!=c&&"youtube_standard_feed"!=c&&"youtube_user_videos"!=c?"youtube_channel_query"==c?d.ajax({type:"GET",url:e,dataType:"xml",success:function(c){a._processYotubeSuccess(c)}, error:function(c){a._processYotubeError(c)}}):alert("Invalid data-type in playlist!"):d.ajax({url:e,dataType:"jsonp",success:function(c){a._processYotubeSuccess(c)},error:function(c){a._processYotubeError(c)}})},_processYoutubeSingle:function(a){var c=this;d.ajax({url:a,dataType:"jsonp",success:function(a){c._processYotubeSingleSuccess(a)},error:function(a){c._processYotubeError(a)}})},_processYoutubePlaylistQuery:function(){var a=this;d.ajax({url:this._playlistQueryUrl[this._playlistQueryCounter], dataType:"jsonp",success:function(c){a._processYoutubePlaylistQuerySuccess(c)},error:function(c){a._processYotubeError(c)}})},_processYoutubePlaylistQuerySuccess:function(a){if(a.error)alert(a.error.message);else{var c=a.data.items.length,d=0,g,b;for(d;d<c;d++)b=a.data.items[d].video,g={},this.useDeeplink&&(g.deeplink=this.currentProcessDeeplink+(d+1).toString()),g.type="youtube",g.id=b.id,g.title=b.title?b.title:"",g.description=b.description?b.description:"",b.thumbnail&&(g.thumbnail=b.thumbnail.hqDefault? b.thumbnail.hqDefault:b.thumbnail.sqDefault),this._videoProcessData.push(g);this._playlistQueryCounter++;this._playlistQueryCounter>this._playlistLength-1?this._buildPlaylist():this._processYoutubePlaylistQuery()}},_processYotubeSuccess:function(a){if(a.error)alert(a.error.message);else{var c=a.data.items.length,d=0,g=this._videoProcessDataUrl[this._videoProcessCounter].type,b,f;if("youtube_playlist_query"==g){this._playlistQueryCounter=0;this._playlistQueryUrl=[];this._playlistLength=c;for(d;d<c;d++)g= "http://gdata.youtube.com/feeds/api/playlists/"+a.data.items[d].id+"?&start-index=1&max-results=50&v=2&alt=jsonc",this._playlistQueryUrl.push(g);this._processYoutubePlaylistQuery()}else{for(d;d<c;d++)f="youtube_user_uploads"==g||"youtube_video_query"==g||"youtube_standard_feed"==g?a.data.items[d]:a.data.items[d].video,b={},this.useDeeplink&&(b.deeplink=this.currentProcessDeeplink+(d+1).toString()),b.type="youtube",b.id=f.id,b.title=f.title?f.title:"",b.description=f.description?f.description:"",f.thumbnail&& (b.thumbnail=f.thumbnail.hqDefault?f.thumbnail.hqDefault:f.thumbnail.sqDefault),this._videoProcessData.push(b);this._videoProcessCounter++;this._videoProcessCounter>this._playlistLength-1?this._buildPlaylist():this._processJson()}}},_processYotubeSingleSuccess:function(a){var c={},a=a.data;this.useDeeplink&&(c.deeplink=this.currentProcessDeeplink);c.type="youtube";c.id=a.id;c.title=a.title?a.title:"";c.description=a.description?a.description:"";a.thumbnail&&(c.thumbnail=a.thumbnail.hqDefault?a.thumbnail.hqDefault: a.thumbnail.sqDefault);this._videoProcessData.push(c);this._videoProcessCounter++;this._videoProcessCounter>this._playlistLength-1?this._buildPlaylist():this._processJson()},_processYotubeError:function(a){alert(a)},_processVimeo:function(){var a=this,c=this._videoProcessDataUrl[this._videoProcessCounter].type,e=this._videoProcessDataUrl[this._videoProcessCounter].path;a.useDeeplink&&(this.currentProcessDeeplink=this._videoProcessDataUrl[this._videoProcessCounter].deeplink);"vimeo_single"==c?this._processVimeoSingle(e): "vimeo_user"!=c&&"vimeo_group"!=c&&"vimeo_channel"!=c&&"vimeo_album"!=c?alert("Invalid data-type in playlist!"):d.ajax({url:e,dataType:"jsonp",success:function(c){a._processVimeoSuccess(c)},error:function(c){a._processVimeoError(c)}})},_processVimeoSingle:function(a){var c=this;d.ajax({url:a,dataType:"jsonp",success:function(a){c._processVimeoSingleSuccess(a)},error:function(a){c._processVimeoError(a)}})},_processVimeoSuccess:function(a){var c=a.length,d=0,g;for(d;d<c;d++)g={},this.useDeeplink&&(g.deeplink= this.currentProcessDeeplink+(d+1).toString()),g.type="vimeo",g.id=a[d].id,g.title=a[d].title,g.description=a[d].description,g.thumbnail=a[d].thumbnail_medium,this._videoProcessData.push(g);this._videoProcessCounter++;this._videoProcessCounter>this._playlistLength-1?this._buildPlaylist():this._processJson()},_processVimeoSingleSuccess:function(a){var c={};this.useDeeplink&&(c.deeplink=this.currentProcessDeeplink);c.type="vimeo";c.id=a[0].id;c.title=a[0].title;c.description=a[0].description;c.thumbnail= a[0].thumbnail_medium;this._videoProcessData.push(c);this._videoProcessCounter++;this._videoProcessCounter>this._playlistLength-1?this._buildPlaylist():this._processJson()},_processVimeoError:function(){},_buildPlaylist:function(){var a=this;this.deeplinkData=[];this._thumbInnerContainerSize=0;this._lastThumbOrientation=null;this._descriptionDataArr=[];this._playlistOpened=!1;this._playlistLength=this._videoProcessData.length;var c=0,e,g,b;if(this.useDeeplink){var f=!1;if(!this.categoryArr[this.activeCategory].mediaName){var f= !0,i=[];this.categoryArr[this.activeCategory].mediaName=i}var h=d.address.strict()?"#/":"#",h=this.baseURL+h+this.firstLevel+"/"}for(c;c<this._playlistLength;c++)b=this._videoProcessData[c],this.useDeeplink&&f&&(e=this.filterAllowedChars(b.deeplink),i.push(e)),this.outputDeeplinkData&&this.deeplinkData.push({id:c,name:b.title,type:b.type,"video-id":b.id,deeplink:h+b.deeplink}),g=b.thumbnail,this._descriptionDataArr[c]=b.description,e=d("<div/>").attr("data-id",c).attr({"data-type":b.type,"data-path":b.id}).css({opacity:0, cursor:"pointer"}).addClass("horizontal"==this._thumbOrientation?"thumbs":"thumbs_v"),this.thumbHolder&&(e.appendTo(this.thumbInnerContainer).bind("click",function(b){if(a._componentInited&&!a._playlistTransitionOn&&(b||(b=a._window.event),b.cancelBubble?b.cancelBubble=!0:b.stopPropagation&&b.stopPropagation(),b=d(b.currentTarget).attr("data-id"),b!=a._playlistManager.getCounter()))return a._enableActiveItem(),a._playlistManager.processPlaylistRequest(b),a.thumbHolder&&a._closePlaylistOnVideoSelect&& a._togglePlaylist(),!1}).stop().animate({opacity:1},{duration:500,easing:"easeOutSine"}),this.isMobile||e.bind("mouseover",function(b){if(a._componentInited&&!a._playlistTransitionOn){b||(b=a._window.event);b.cancelBubble?b.cancelBubble=!0:b.stopPropagation&&b.stopPropagation();var c=d(b.currentTarget);c.attr("data-id");if(b=c.find("div[data-title='titleDiv']"))c=c.height()-b.outerHeight(),0>c&&(c=0),b.stop().animate({top:c+"px"},{duration:300,easing:"easeOutQuart"});return!1}}).bind("mouseout",function(b){if(a._componentInited&& !a._playlistTransitionOn&&(b||(b=a._window.event),b.cancelBubble?b.cancelBubble=!0:b.stopPropagation&&b.stopPropagation(),b=d(b.currentTarget),b.attr("data-id")!=a._playlistManager.getCounter())){var c=b.find("div[data-title='titleDiv']");c&&c.stop().animate({top:b.height()+"px"},{duration:300,easing:"easeOutQuart"});return!1}})),this._thumbHolderArr[c]=e,this.thumbHolder&&(d(new Image).attr({alt:b.title,id:c}).addClass("thumb_img").appendTo(e).load(function(){}).error(function(){}).attr("src",g), b=d("<div/>").attr("data-title","titleDiv").css({top:e.height()+"px"}).html(b.title).addClass("thumb_title").appendTo(e),e.titleDiv=b,"horizontal"==this._thumbOrientation?(c==this._playlistLength-1&&e.css({marginRight:"0px"}),this._thumbInnerContainerSize+=e.outerWidth(!0)):(c==this._playlistLength-1&&e.css({marginBottom:"0px"}),this._thumbInnerContainerSize+=e.outerHeight(!0)));this._doneResizing();this._playlistTransitionOn=!1;this._playlistManager.setPlaylistItems(this._playlistLength);if(this.useDeeplink){if(this.secondLevelExist){if(!this.findCounterByName(this.secondLevel)){alert("404 page not found, check your deeplinks second level!"); d.address.history(!1);return}this._addressSet=!0;this._playlistManager.setCounter(this.activeItem,!1)}}else this._playlistManager.setCounter(0,!1);if(this.outputDeeplinkData)try{console.log(this.deeplinkData)}catch(j){}this.thumbHolder&&(this._autoOpenPlaylist||(this._playlistOpened=!0),this._togglePlaylist());this._componentInited||(this.componentWrapper.css({opacity:0,display:"block"}).stop().animate({opacity:1},{duration:500,easing:"easeOutSine"}),this._disableActiveItem(),this.settings.videoGallerySetupDone.call(this), this._componentInited=!0);this.mediaPreloader.css("display","none")},_checkThumbPosition:function(){if("horizontal"==this._thumbOrientation){var a=this._getComponentSize("w"),c;this._thumbInnerContainerSize>a-this._thumbBackwardSize-this._thumbForwardSize?(this.thumbBackward.css("display","block"),this.thumbForward.css("display","block"),c=parseInt(this.thumbInnerContainer.css("left"),10),c<a-this._thumbInnerContainerSize-this._thumbForwardSize-this._thumbBackwardSize?(this._thumbScrollIntervalID&& clearInterval(this._thumbScrollIntervalID),c=a-this._thumbInnerContainerSize-this._thumbForwardSize-this._thumbBackwardSize):0<c&&(c=0),this.thumbInnerContainer.css("left",c+"px")):(this.thumbBackward.css("display","none"),this.thumbForward.css("display","none"),this.thumbInnerContainer.css("left",a/2-this._thumbInnerContainerSize/2-this._thumbBackwardSize+"px"))}else a=this._getComponentSize("h"),this._thumbInnerContainerSize>a-this._thumbBackwardSize-this._thumbForwardSize?(this.thumbBackward.css("display", "block"),this.thumbForward.css("display","block"),c=parseInt(this.thumbInnerContainer.css("top"),10),c<a-this._thumbInnerContainerSize-this._thumbForwardSize-this._thumbBackwardSize?(this._thumbScrollIntervalID&&clearInterval(this._thumbScrollIntervalID),c=a-this._thumbInnerContainerSize-this._thumbForwardSize-this._thumbBackwardSize):0<c&&(c=0),this.thumbInnerContainer.css("top",c+"px")):(this.thumbBackward.css("display","none"),this.thumbForward.css("display","none"),this.thumbInnerContainer.css("top", a/2-this._thumbInnerContainerSize/2-this._thumbBackwardSize+"px"))},_enableActiveItem:function(){if(-1!=this._playlistManager.getCounter()){var a=d(this._thumbHolderArr[this._playlistManager.getCounter()]);if(a){a.css("cursor","pointer");var c=a.find("div[data-title='titleDiv']");c&&c.stop().animate({top:a.height()+"px"},{duration:500,easing:"easeOutQuart"})}}},_disableActiveItem:function(){var a=d(this._thumbHolderArr[this._playlistManager.getCounter()]);if(a){a.css("cursor","default");var c=a.find("div[data-title='titleDiv']"); c&&(a=a.height()-c.outerHeight(),0>a&&(a=0),c.stop().animate({top:a+"px"},{duration:500,easing:"easeOutQuart"}))}},_togglePlaylist:function(){var a,c=this;this._playlistOpened?(this._playlistOpened=!1,a="horizontal"==this._thumbOrientation?this.prev_v:this.prev,this.playlist_toggle.css("background-image",'url("'+a+'")'),"horizontal"==this._thumbOrientation?(a=this._getComponentSize("h")-this.playlistHitArea,this.mediaWrapper.stop().animate({height:a+"px"},{duration:500,easing:"easeOutQuart"}),-1!= this._playlistManager.getCounter()&&this.youtubeHolder.stop().animate({height:this.isIE?a+2:a+"px"},{duration:500,easing:"easeOutQuart"}),this.vimeoHolder.stop().animate({height:a+"px"},{duration:500,easing:"easeOutQuart",complete:function(){"horizontal"==c._thumbOrientation&&(c.iPad&&c._mediaType&&"vimeo"==c._mediaType)&&c._forceResize()}}),this.thumbHolder.stop().animate({bottom:-this.thumbHolderSize+this.playlistHitArea+"px"},{duration:500,easing:"easeOutQuart"})):(a=this._getComponentSize("w")- this.playlistHitArea,this.mediaWrapper.stop().animate({width:a+"px"},{duration:500,easing:"easeOutQuart"}),-1!=this._playlistManager.getCounter()&&this.youtubeHolder.stop().animate({width:this.isIE?a+2:a+"px"},{duration:500,easing:"easeOutQuart"}),this.vimeoHolder.stop().animate({width:a+"px"},{duration:500,easing:"easeOutQuart",complete:function(){"horizontal"==c._thumbOrientation&&(c.iPad&&c._mediaType&&"vimeo"==c._mediaType)&&c._forceResize()}}),this.thumbHolder.stop().animate({right:-this.thumbHolderSize+ this.playlistHitArea+"px"},{duration:500,easing:"easeOutQuart"}))):(this._playlistOpened=!0,a="horizontal"==this._thumbOrientation?this.next_v:this.next,this.playlist_toggle.css("background-image",'url("'+a+'")'),"horizontal"==this._thumbOrientation?(a=this._getComponentSize("h")-this.thumbHolderSize,this.mediaWrapper.stop().animate({height:a+"px"},{duration:500,easing:"easeOutQuart"}),-1!=this._playlistManager.getCounter()&&this.youtubeHolder.stop().animate({height:this.isIE?a+2:a+"px"},{duration:500, easing:"easeOutQuart"}),this.vimeoHolder.stop().animate({height:a+"px"},{duration:500,easing:"easeOutQuart",complete:function(){"horizontal"==c._thumbOrientation&&(c.iPad&&c._mediaType&&"vimeo"==c._mediaType)&&c._forceResize()}}),this.thumbHolder.stop().animate({bottom:"0px"},{duration:500,easing:"easeOutQuart"})):(a=this._getComponentSize("w")-this.thumbHolderSize,this.mediaWrapper.stop().animate({width:a+"px"},{duration:500,easing:"easeOutQuart"}),-1!=this._playlistManager.getCounter()&&this.youtubeHolder.stop().animate({width:this.isIE? a+2:a+"px"},{duration:500,easing:"easeOutQuart"}),this.vimeoHolder.stop().animate({width:a+"px"},{duration:500,easing:"easeOutQuart",complete:function(){"horizontal"==c._thumbOrientation&&(c.iPad&&c._mediaType&&"vimeo"==c._mediaType)&&c._forceResize()}}),this.thumbHolder.stop().animate({right:"0px"},{duration:500,easing:"easeOutQuart"})))},_cleanPlaylist:function(){this.thumbBackward.css("display","none");this.thumbForward.css("display","none");this._mediaType&&this._cleanMedia();this._playlistManager.reSetCounter(); this.thumbInnerContainer.empty();this._thumbHolderArr=[];"horizontal"==this._thumbOrientation?this.thumbInnerContainer.css("left","0px"):this.thumbInnerContainer.css("top","0px")},_setPlaylist:function(){this._playlistTransitionOn=!0;this.mediaPreloader.css("display","block");this._getPlaylist()},_mediaAdvance:function(){this._enableActiveItem();this._playlistManager.advanceHandler(1,!0)},_findMedia:function(){this._mediaType&&this._cleanMedia();var a=this._thumbHolderArr[this._playlistManager.getCounter()]; this._mediaPath=a.attr("data-path");this._mediaType=a.attr("data-type");"vimeo"==this._mediaType?this._initVimeo():"youtube"==this._mediaType?this._initYoutube():alert("Error in this._findMedia!")},_cleanMedia:function(){"vimeo"==this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.clean():"youtube"==this._mediaType&&(this._youtubePlayer&&this._youtubePlayer.stop(),this.isIE?this.youtubeHolder.width(0):this.youtubeHolder.css("display","none"));this._mediaType=null},_setVolume:function(a){"vimeo"== this._mediaType?this._vimeoPlayer&&this._vimeoPlayer.setVolume(a):"youtube"==this._mediaType&&this._youtubePlayer&&this._youtubePlayer.setVolume(a)},_initVimeo:function(){var a=this;this._vimeoInited?this._vimeoPlayer.initVideo(this._mediaPath):(this._vimeoPlayer=d.vimeoPlayer({autoPlay:this.vim_autoPlay,defaultVolume:this.defaultVolume,mediaPath:this._mediaPath,vimeoHolder:this.vimeoHolder,isMobile:this.isMobile,initialAutoplay:this.initialAutoplay}),d(this._vimeoPlayer).bind("ap_VimeoPlayer.VIMEO_READY", function(){a.mediaPreloader.css("display","none")}),d(this._vimeoPlayer).bind("ap_VimeoPlayer.START_PLAY",function(){a.mediaPreloader.css("display","none")}),d(this._vimeoPlayer).bind("ap_VimeoPlayer.END_PLAY",function(){a._autoAdvanceToNextVideo?a._mediaAdvance():a.autoPlay&&a._vimeoPlayer.api("play")}),this._vimeoInited=!0)},_initYoutube:function(){var a=this;this._youtubeInited?(this.youtubeHolder.css("display","block"),this._youtubePlayer.initVideo(this._mediaPath),a.isIE&&a._resizeElements()): (this._youtubePlayer=d.youtubePlayer({autoPlay:this.yt_autoPlay,defaultVolume:this.defaultVolume,mediaPath:this._mediaPath,youtubeHolder:this.youtubeHolder,youtubeChromeless:this._youtubeChromeless,isMobile:this.isMobile,initialAutoplay:this.initialAutoplay}),d(this._youtubePlayer).bind("ap_YoutubePlayer.YT_READY",function(){a.mediaPreloader.css("display","none")}),d(this._youtubePlayer).bind("ap_YoutubePlayer.START_PLAY",function(){a.mediaPreloader.css("display","none");a.youtubeHolder.css("display", "block")}),d(this._youtubePlayer).bind("ap_YoutubePlayer.END_PLAY",function(){a._autoAdvanceToNextVideo?a._mediaAdvance():a.autoPlay&&a._youtubePlayer.play()}),this._youtubeInited=!0)},_getComponentSize:function(a){return"w"==a?this.componentWrapper.width():this.componentWrapper.height()},_preventSelect:function(a){d(a).each(function(){d(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}, _scrollThumbsBack:function(){var a;"horizontal"==this._thumbOrientation?(a=parseInt(this.thumbInnerContainer.css("left"),10),a+=this._thumbsScrollValue,0<a&&(this._thumbScrollIntervalID&&clearInterval(this._thumbScrollIntervalID),a=0),this.thumbInnerContainer.css("left",a+"px")):(a=parseInt(this.thumbInnerContainer.css("top"),10),a+=this._thumbsScrollValue,0<a&&(this._thumbScrollIntervalID&&clearInterval(this._thumbScrollIntervalID),a=0),this.thumbInnerContainer.css("top",a+"px"))},_scrollThumbsForward:function(){if("horizontal"== this._thumbOrientation){var a=parseInt(this.thumbInnerContainer.css("left"),10),c=this._getComponentSize("w"),a=a-this._thumbsScrollValue;a<c-this._thumbInnerContainerSize-this._thumbForwardSize-this._thumbBackwardSize&&(this._thumbScrollIntervalID&&clearInterval(this._thumbScrollIntervalID),a=c-this._thumbInnerContainerSize-this._thumbForwardSize-this._thumbBackwardSize);this.thumbInnerContainer.css("left",a+"px")}else a=parseInt(this.thumbInnerContainer.css("top"),10),c=this._getComponentSize("h"), a-=this._thumbsScrollValue,a<c-this._thumbInnerContainerSize-this._thumbForwardSize-this._thumbBackwardSize&&(this._thumbScrollIntervalID&&clearInterval(this._thumbScrollIntervalID),a=c-this._thumbInnerContainerSize-this._thumbForwardSize-this._thumbBackwardSize),this.thumbInnerContainer.css("top",a+"px")},_forceResize:function(){this.preventResize=!0;this._thumbOrientation="horizontal"==this._thumbOrientation?"vertical":"horizontal";this._makeThumbHolder();this._thumbOrientation="horizontal"==this._thumbOrientation? "vertical":"horizontal";this._makeThumbHolder();this.preventResize=!1},_makeThumbHolder:function(){var a,c=this._getComponentSize("w"),e=this._getComponentSize("h");this.thumbHolder&&(this._thumbInnerContainerSize=0,this.thumbContainer.css({width:"",height:""}),this.thumbInnerContainer.css({width:"",height:""}));if("horizontal"==this._thumbOrientation){if(this.thumbHolder?(this.mobLayout?(this.thumbHolder.removeClass().addClass("thumbHolder_mob"),this.thumbBackward.removeClass().addClass("thumbBackward_mob"), this.thumbForward.removeClass().addClass("thumbForward_mob")):(this.thumbHolder.removeClass().addClass("thumbHolder"),this.thumbBackward.removeClass().addClass("thumbBackward"),this.thumbForward.removeClass().addClass("thumbForward")),this.playlistControls.removeClass().addClass("playlistControls"),this._thumbBackwardSize=parseInt(this.thumbBackward.css("width"),10),this._thumbForwardSize=parseInt(this.thumbForward.css("width"),10),this.playlistHitArea=this.playlistControls.height(),this.thumbHolderSize= this.thumbHolder.height()):this.playlistHitArea=this.thumbHolderSize=0,this._playlistOpened?(a=e-this.thumbHolderSize,this.thumbHolder&&this.thumbHolder.css("bottom","0px")):(a=e-this.playlistHitArea,this.thumbHolder&&this.thumbHolder.css("bottom",-this.thumbHolderSize+this.playlistHitArea+"px")),this.mediaWrapper.removeClass().addClass("mediaWrapper").css({width:"100%",height:a+"px"}),this.vimeoHolder.css({width:"100%",height:a+"px"}),-1!=this._playlistManager.getCounter()&&(this.isIE?this.youtubeHolder.css({height:a+ 2+"px",width:c+2+"px",top:"-1px",left:"-1px"}):this.youtubeHolder.css({height:a+"px",width:c+"px"})),this.thumbHolder){this.mobLayout?(this.thumbContainer.removeClass().addClass("thumbContainer_mob").css({width:c-this._thumbBackwardSize-this._thumbForwardSize+"px",left:this._thumbBackwardSize+"px",top:""}),this.thumbInnerContainer.removeClass().addClass("thumbInnerContainer_mob").css({top:"0px",left:"0px"})):(this.thumbContainer.removeClass().addClass("thumbContainer").css({width:c-this._thumbBackwardSize- this._thumbForwardSize+"px",left:this._thumbBackwardSize+"px",top:""}),this.thumbInnerContainer.removeClass().addClass("thumbInnerContainer").css({top:"0px",left:"0px"}));250<c?(this.playlist_prev.removeClass().addClass("playlist_prev"),this.playlist_toggle.removeClass().addClass("playlist_toggle"),this.playlist_next.removeClass().addClass("playlist_next"),this.playlist_switch.removeClass().addClass("playlist_switch")):(this.playlist_prev.removeClass().addClass("playlist_prev_small"),this.playlist_toggle.removeClass().addClass("playlist_toggle_small"), this.playlist_next.removeClass().addClass("playlist_next_small"),this.playlist_switch.removeClass().addClass("playlist_switch_small"));a=0;c=this._thumbHolderArr.length;d(this._thumbHolderArr[c-1]).css({marginRight:"0px"});for(a;a<c;a++)e=d(this._thumbHolderArr[a]),this.mobLayout?(e.removeClass().addClass("thumbs_mob"),e.find("div[data-title='titleDiv']").css("display","none")):(e.removeClass().addClass("thumbs"),e.find("div[data-title='titleDiv']").css({top:e.height()+"px",display:"block"})),this._thumbInnerContainerSize+= e.outerWidth(!0);this.thumbInnerContainer.css("width",this._thumbInnerContainerSize+"px")}}else if(this.thumbHolder?(this.mobLayout?(this.thumbHolder.removeClass().addClass("thumbHolder_v_mob"),this.thumbBackward.removeClass().addClass("thumbBackward_v_mob"),this.thumbForward.removeClass().addClass("thumbForward_v_mob")):(this.thumbHolder.removeClass().addClass("thumbHolder_v"),this.thumbBackward.removeClass().addClass("thumbBackward_v"),this.thumbForward.removeClass().addClass("thumbForward_v")), this.playlistControls.removeClass().addClass("playlistControls_v"),this._thumbBackwardSize=parseInt(this.thumbBackward.css("height"),10),this._thumbForwardSize=parseInt(this.thumbForward.css("height"),10),this.playlistHitArea=this.playlistControls.width(),this.thumbHolderSize=this.thumbHolder.width()):this.playlistHitArea=this.thumbHolderSize=0,this._playlistOpened?(a=c-this.thumbHolderSize,this.thumbHolder&&this.thumbHolder.css("right","0px")):(a=c-this.playlistHitArea,this.thumbHolder&&this.thumbHolder.css("right", -this.thumbHolderSize+this.playlistHitArea+"px")),this.mediaWrapper.removeClass().addClass("mediaWrapper_v").css({width:a+"px",height:"100%"}),this.vimeoHolder.css({width:a+"px",height:"100%"}),-1!=this._playlistManager.getCounter()&&(this.isIE?this.youtubeHolder.css({width:a+2+"px",height:e+2+"px",top:"-1px",left:"-1px"}):this.youtubeHolder.css({width:a+"px",height:e+"px"})),this.thumbHolder){this.mobLayout?(this.thumbContainer.removeClass().addClass("thumbContainer_v_mob").css({height:e-this._thumbBackwardSize- this._thumbForwardSize+"px",top:this._thumbBackwardSize+"px",left:""}),this.thumbInnerContainer.removeClass().addClass("thumbInnerContainer_v_mob").css({top:"0px",left:"0px"})):(this.thumbContainer.removeClass().addClass("thumbContainer_v").css({height:e-this._thumbBackwardSize-this._thumbForwardSize+"px",top:this._thumbBackwardSize+"px",left:""}),this.thumbInnerContainer.removeClass().addClass("thumbInnerContainer_v").css({top:"0px",left:"0px"}));250<e?(this.playlist_prev.removeClass().addClass("playlist_prev_v"), this.playlist_toggle.removeClass().addClass("playlist_toggle_v"),this.playlist_next.removeClass().addClass("playlist_next_v"),this.playlist_switch.removeClass().addClass("playlist_switch_v")):(this.playlist_prev.removeClass().addClass("playlist_prev_v_small"),this.playlist_toggle.removeClass().addClass("playlist_toggle_v_small"),this.playlist_next.removeClass().addClass("playlist_next_v_small"),this.playlist_switch.removeClass().addClass("playlist_switch_v_small"));a=0;c=this._thumbHolderArr.length; d(this._thumbHolderArr[c-1]).css({marginBottom:"0px"});for(a;a<c;a++)e=d(this._thumbHolderArr[a]),this.mobLayout?(e.removeClass().addClass("thumbs_v_mob"),e.find("div[data-title='titleDiv']").css("display","none")):(e.removeClass().addClass("thumbs_v"),e.find("div[data-title='titleDiv']").css({top:e.height()+"px",display:"block"})),this._thumbInnerContainerSize+=e.outerHeight(!0)}this.thumbHolder&&(this._disableActiveItem(),a="horizontal"==this._thumbOrientation?this.prev:this.prev_v,this.playlist_prev.css("background-image", 'url("'+a+'")'),a=this._playlistOpened?"horizontal"==this._thumbOrientation?this.next_v:this.next:"horizontal"==this._thumbOrientation?this.prev_v:this.prev,this.playlist_toggle.css("background-image",'url("'+a+'")'),a="horizontal"==this._thumbOrientation?this.next:this.next_v,this.playlist_next.css("background-image",'url("'+a+'")'),a="horizontal"==this._thumbOrientation?this.next:this.next_v,this.thumbForward.css("background-image",'url("'+a+'")'),a="horizontal"==this._thumbOrientation?this.prev: this.prev_v,this.thumbBackward.css("background-image",'url("'+a+'")'))},_resizeElements:function(){var a,c=this._getComponentSize("w"),d=this._getComponentSize("h");"horizontal"==this._thumbOrientation?(this.thumbHolder?(this._thumbBackwardSize=parseInt(this.thumbBackward.css("width"),10),this._thumbForwardSize=parseInt(this.thumbForward.css("width"),10),this.playlistHitArea=this.playlistControls.height(),this.thumbHolderSize=this.thumbHolder.height()):this.playlistHitArea=this.thumbHolderSize=0, this._playlistOpened?(a=d-this.thumbHolderSize,this.thumbHolder&&this.thumbHolder.css("bottom","0px")):(a=d-this.playlistHitArea,this.thumbHolder&&this.thumbHolder.css("bottom",-this.thumbHolderSize+this.playlistHitArea+"px")),this.mediaWrapper.css("height",a+"px"),-1!=this._playlistManager.getCounter()&&(this.isIE?this.youtubeHolder.css({height:a+2+"px",width:c+2+"px",top:"-1px",left:"-1px"}):this.youtubeHolder.css({height:a+"px",width:c+"px"})),this.vimeoHolder.css("height",a+"px"),this.thumbContainer.css("width", c-this._thumbBackwardSize-this._thumbForwardSize+"px"),this.thumbHolder&&(250<c?(this.playlist_prev.removeClass().addClass("playlist_prev"),this.playlist_toggle.removeClass().addClass("playlist_toggle"),this.playlist_next.removeClass().addClass("playlist_next"),this.playlist_switch.removeClass().addClass("playlist_switch")):(this.playlist_prev.removeClass().addClass("playlist_prev_small"),this.playlist_toggle.removeClass().addClass("playlist_toggle_small"),this.playlist_next.removeClass().addClass("playlist_next_small"), this.playlist_switch.removeClass().addClass("playlist_switch_small")))):(this.thumbHolder?(this._thumbBackwardSize=parseInt(this.thumbBackward.css("height"),10),this._thumbForwardSize=parseInt(this.thumbForward.css("height"),10),this.playlistHitArea=this.playlistControls.width(),this.thumbHolderSize=this.thumbHolder.width()):this.playlistHitArea=this.thumbHolderSize=0,this._playlistOpened?(a=c-this.thumbHolderSize,this.thumbHolder&&this.thumbHolder.css("right","0px")):(a=c-this.playlistHitArea,this.thumbHolder&& this.thumbHolder.css("right",-this.thumbHolderSize+this.playlistHitArea+"px")),this.mediaWrapper.css("width",a+"px"),-1!=this._playlistManager.getCounter()&&(this.isIE?this.youtubeHolder.css({width:a+2+"px",height:d+2+"px",top:"-1px",left:"-1px"}):this.youtubeHolder.css({width:a+"px",height:d+"px"})),this.vimeoHolder.css("width",a+"px"),this.thumbHolder&&(this.thumbContainer.css("height",d-this._thumbBackwardSize-this._thumbForwardSize+"px"),250<d?(this.playlist_prev.removeClass().addClass("playlist_prev_v"), this.playlist_toggle.removeClass().addClass("playlist_toggle_v"),this.playlist_next.removeClass().addClass("playlist_next_v"),this.playlist_switch.removeClass().addClass("playlist_switch_v")):(this.playlist_prev.removeClass().addClass("playlist_prev_v_small"),this.playlist_toggle.removeClass().addClass("playlist_toggle_v_small"),this.playlist_next.removeClass().addClass("playlist_next_v_small"),this.playlist_switch.removeClass().addClass("playlist_switch_v_small"))))},_switchLayout:function(){var a= this._getComponentSize("h"),c=this._getComponentSize("w");this._thumbOrientation="horizontal"==this._thumbOrientation?"vertical":"horizontal";500>a||500>c?(this.mobLayout=!0,a<=c?800<c&&(this.mobLayout=!1):800<a&&(this.mobLayout=!1)):500<a&&500<c&&(this.mobLayout=!1);this._makeThumbHolder();this._lastThumbOrientation=this._thumbOrientation;this._lastMobLayout=this.mobLayout;this.thumbHolder&&this._checkThumbPosition()},_doneResizing:function(){if(!this.preventResize){var a=this._getComponentSize("h"), c=this._getComponentSize("w");this.flipGallerySides?500>a||500>c?(this.mobLayout=!0,a<=c?(800<c&&(this.mobLayout=!1),this._thumbOrientation="vertical"):(800<a&&(this.mobLayout=!1),this._thumbOrientation="horizontal")):500<a&&500<c?(this.mobLayout=!1,this._thumbOrientation="horizontal"):this._thumbOrientation=this.defaultGallerySide:500>a||500>c?(this.mobLayout=!0,a<=c?800<c&&(this.mobLayout=!1):800<a&&(this.mobLayout=!1)):500<a&&500<c&&(this.mobLayout=!1);this.mobLayout!=this._lastMobLayout||this._thumbOrientation!= this._lastThumbOrientation?(this._makeThumbHolder(),this._lastThumbOrientation=this._thumbOrientation,this._lastMobLayout=this.mobLayout):this._resizeElements();this.thumbHolder&&this._checkThumbPosition()}},_centerComponent:function(){var a=_window.width(),c=_window.height(),d=this._getComponentSize("w"),g=this._getComponentSize("h");a<=d?this.componentWrapper.css({left:"0px",marginLeft:"0px"}):this.componentWrapper.css({left:"50%",marginLeft:-d/2+"px"});c<=g?this.componentWrapper.css({top:"0px", marginTop:"0px"}):this.componentWrapper.css({top:"50%",marginTop:-g/2+"px"})}};d.fn.videoGallery=function(a){return this.each(function(){var c=new l(d(this),a);d(this).data("videoGallery",c);d.fn.videoGallery.getDescription=function(a){alert(c.getDescription(a));return c.getDescription(a)};d.fn.videoGallery.playMedia=function(){c.playMedia()};d.fn.videoGallery.pauseMedia=function(){c.pauseMedia()};d.fn.videoGallery.nextMedia=function(){c.nextMedia()};d.fn.videoGallery.previousMedia=function(){c.previousMedia()}; d.fn.videoGallery.loadMedia=function(a){c.loadMedia(a)};d.fn.videoGallery.destroyMedia=function(){c.destroyMedia()};d.fn.videoGallery.togglePlaylist=function(){c.togglePlaylist()};d.fn.videoGallery.switchLayout=function(){c.switchLayout()};d.fn.videoGallery.setVolume=function(a){c.setVolume(a)}})};d.fn.videoGallery.defaults={defaultVolume:0.5,autoPlay:!1,loopingOn:!0,randomPlay:!1,autoAdvanceToNextVideo:!0,autoOpenPlaylist:!0,closePlaylistOnVideoSelect:!1,outputDeeplinkData:!1,videoGallerySetupDone:function(){}}; d.fn.videoGallery.settings={}})(jQuery); (function(d){jQuery.browser.mobile=/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(d)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(d.substr(0,4))})(navigator.userAgent|| navigator.vendor||window.opera);