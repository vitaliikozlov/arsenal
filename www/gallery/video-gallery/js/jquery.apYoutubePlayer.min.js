(function(d){function e(a){function c(){b.playerReady=!0;d(b).trigger("ap_YoutubePlayer.YT_READY");b._player.setVolume(100*b._defaultVolume);b._player&&b._autoPlay&&b._player.playVideo()}function e(){}function f(a){0==a.data&&d(b).trigger("ap_YoutubePlayer.END_PLAY");1==a.data&&(b._inited||(d(b).trigger("ap_YoutubePlayer.START_PLAY"),b._inited=!0),b._initialAutoplaySet||(b.isMobile&&b.initialAutoplay&&(b._autoPlay=!0),b._initialAutoplaySet=!0))}function g(){}var b=this;this.isMobile=a.isMobile;this.initialAutoplay= a.initialAutoplay;this._inited=this._initialAutoplaySet=!1;this._player;this._autoPlay=a.autoPlay;this._defaultVolume=a.defaultVolume;this._youtubeHolder=a.youtubeHolder;this._frameId="ytplayer"+Math.floor(16777215*Math.random());this.lastID;this.playerReadyInterval=100;this.playerReadyIntervalID;this.playerReady=!1;var j="&amp;rel=0",a=a.youtubeChromeless?"http://www.youtube.com/embed/"+a.mediaPath+"?controls=0&amp;showinfo=0"+j+"&amp;enablejsapi=1&amp;theme=dark&amp;wmode=transparent":"http://www.youtube.com/embed/"+ a.mediaPath+"?rel=0&amp;enablejsapi=1&amp;theme=dark&amp;wmode=transparent",a=d("<iframe />",{frameborder:0,src:a,width:"100%",height:"100%",id:this._frameId});this._youtubeHolder.css("display","block").append(a);if(h)b._player=new YT.Player(b._frameId,{events:{onReady:c,onPlaybackQualityChange:e,onStateChange:f,onError:g}});else var i=setInterval(function(){window.YT&&(i&&clearInterval(i),h=!0,b._player=new YT.Player(b._frameId,{events:{onReady:c,onPlaybackQualityChange:e,onStateChange:f,onError:g}}))}, 100);window.onYouTubeIframeAPIReady=function(){}}var h=!1;d.youtubePlayer=function(a){return new e(a)};e.prototype={initVideo:function(a){if(this.playerReady)this._player&&(this._inited=!1,this._autoPlay?this._player.loadVideoById(a):this._player.cueVideoById(a));else{var c=this;this.lastID=a;this.playerReadyIntervalID||(this.playerReadyIntervalID=setInterval(function(){c.playerReady&&(c.playerReadyIntervalID&&clearInterval(c.playerReadyIntervalID),c.initVideo(c.lastID))},this.playerReadyInterval))}}, stop:function(){this._player&&void 0!=this._player.stopVideo&&this._player.stopVideo()},play:function(){this._player&&this._player.playVideo()},pause:function(){this._player&&this._player.pauseVideo()},seek:function(a){this._player&&this._player.seekTo(a)},isMuted:function(){if(this._player)return this._player.isMuted()},getDuration:function(){if(this._player)return this._player.getDuration()},setVolume:function(a){0>a?vol=0:1<a&&(a=1);this._player&&this._player.setVolume(100*a)}}})(jQuery);